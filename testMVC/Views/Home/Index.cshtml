@model IEnumerable<TestMVC.ViewModels.ProductForDisplayViewModel>
@{
    ViewData["Title"] = "Home Page";
}
@{int countProductInRow = 4;}
    <table class="table">
        @for (int i = 0; i <= @Model.Count() / countProductInRow; i++)
        {
        <tr>
            @for (int j = 0; j < countProductInRow; j++)
            {
                @if ((i * countProductInRow + j) < Model.Count())
                {
                    @await Html.PartialAsync("_ProductPartialView.cshtml", Model.ToArray()[(i * countProductInRow + j)])
                }
            }
        </tr>
        }
    </table>
